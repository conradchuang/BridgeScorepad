<!DOCTYPE html>
<!-- vim: set ai et sw=4 sts=4: -->
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Bridge Score Pad</title>
<link rel="stylesheet" type="text/css" href="segmented.css"/>
<link rel="stylesheet" type="text/css" href="scorepad.css"/>
<script src="segmented.js"></script>
<script src="scorepad.js"></script>
<script src="jsgfparser.js"></script>
<script src="grammar.js"></script>
</head>
<body>
<div class="app-div">
    <div class="system-panel">
        <select class="system" name="system" id="system">
            <optgroup label="Scoring System" class="system-label">
                <option value="Duplicate">Duplicate</option>
                <option value="Chicago">Chicago</option>
                <option value="Rubber" selected>Rubber</option>
            </optgroup>
        </select>
        <label for="system" class="system-label">&nbsp;Bridge Scorepad</label>
    </div>
    <div class="ui-panel">
        <div class="table-panel">
            <div class="svg-container">
                <svg class="diagram" viewbox="0 0 100 100">
                    <defs>
                    <path id="cards" d="
M463.164,146.031
l-77.369,288.746
c-1.677,6.26-7.362,10.4-13.556,10.401
c-1.198,0-2.414-0.155-3.625-0.479
l-189.261-50.712
c-7.472-2.003-11.922-9.711-9.919-17.183
l2.041-7.616
c1.287-4.801,6.222-7.647,11.023-6.363
c4.801,1.287,7.65,6.222,6.363,11.023
l-1.013,3.78
l181.587,48.656
l75.314-281.076
l-77.031-20.64
c-4.801-1.287-7.651-6.222-6.364-11.023
s6.225-7.648,11.022-6.364
l80.869,21.668
C460.718,130.853,465.167,138.56,463.164,146.031z
M166.128,56.029
c-4.971,0-9,4.029-9,9
v8.565
c0,4.971,4.029,9,9,9
s9-4.029,9-9
v-8.565
C175.128,60.058,171.099,56.029,166.128,56.029z
M280.889,176.762
c2.202,3.114,2.202,7.278,0,10.393
l-41.716,58.996
c-1.687,2.385-4.427,3.804-7.349,3.804
c-2.921,0-5.662-1.418-7.348-3.804
l-41.718-58.996
c-2.202-3.114-2.202-7.278,0-10.393
l41.718-58.996
c1.687-2.385,4.427-3.804,7.348-3.804
c2.922,0,5.662,1.418,7.349,3.804
L280.889,176.762z
M343.016,380.764
l-2.216,8.273
c-1.286,4.801,1.563,9.736,6.365,11.022
c0.78,0.209,1.563,0.309,2.334,0.309
c3.974,0,7.611-2.653,8.688-6.674
l2.216-8.273
c1.286-4.801-1.563-9.736-6.365-11.022
C349.237,373.111,344.302,375.963,343.016,380.764z
M112.375,215.913
c2.577-0.69,5.056-1.089,7.454-1.195
V32.492
c0-7.736,6.293-14.029,14.028-14.029
h195.935
c7.736,0,14.03,6.293,14.03,14.029
v182.225
c2.396,0.106,4.875,0.505,7.45,1.195
c16.511,4.424,26.346,21.457,21.922,37.968
c-4.28,15.974-17.951,28.108-29.372,36.404
v41.139
c0,7.736-6.294,14.03-14.03,14.03
H133.857
c-7.735,0-14.028-6.294-14.028-14.03
v-41.137
c-11.422-8.295-25.093-20.428-29.376-36.405
c-2.143-7.996-1.042-16.35,3.1-23.523
C97.695,223.186,104.38,218.055,112.375,215.913z
M343.821,267.05
c6.531-6.172,10.424-12,11.985-17.828
c1.855-6.924-2.27-14.067-9.194-15.923
c-1.047-0.281-1.97-0.451-2.791-0.538
V267.05z
M137.829,327.454
h187.992
v-41.7
c-0.001-0.08-0.001-0.161,0-0.241
v-59.907
c-0.003-0.13-0.003-0.261,0-0.391
V36.463
H137.829
v188.755
c0.003,0.13,0.003,0.261,0,0.392
v59.898
c0.001,0.084,0.001,0.168,0,0.252
V327.454z
M107.84,249.222
c1.563,5.83,5.457,11.66,11.989,17.832
v-34.292
c-0.822,0.086-1.746,0.256-2.794,0.537
c-3.353,0.898-6.156,3.051-7.894,6.061
C107.404,242.369,106.942,245.871,107.84,249.222z
M173.576,405.019
l-79.363,21.265
L18.897,145.209
l77.031-20.641
c4.801-1.287,7.651-6.222,6.364-11.023
c-1.287-4.801-6.225-7.65-11.022-6.364
L10.402,128.85
c-3.614,0.968-6.637,3.29-8.512,6.538
c-1.876,3.249-2.376,7.029-1.407,10.644
l77.37,288.743
c0.968,3.616,3.29,6.641,6.54,8.518
c2.166,1.25,4.567,1.89,7,1.89
c1.216,0,2.439-0.16,3.644-0.482
l83.199-22.293
c4.801-1.287,7.651-6.222,6.364-11.022
C183.312,406.581,178.377,403.734,173.576,405.019z
M51.298,156.782
c-4.801,1.287-7.65,6.222-6.364,11.023
l2.217,8.274
c1.078,4.021,4.714,6.673,8.688,6.673
c0.771,0,1.555-0.1,2.335-0.309
c4.801-1.287,7.65-6.222,6.364-11.023
l-2.217-8.274
C61.034,158.344,56.101,155.496,51.298,156.782z
M297.52,281.322
c-4.971,0-9,4.029-9,9
v8.565
c0,4.971,4.029,9,9,9
s9-4.029,9-9
v-8.565
C306.52,285.352,302.491,281.322,297.52,281.322z"/>
                    </defs>

                    <!-- backgrounds for each hand, colored for vulnerability -->
                    <polygon id="north-bg" class="ns-bg nonvul"
                             points="0,0 100,0 50,50"/>
                    <polygon id="south-bg" class="ns-bg nonvul"
                             points="0,100 100,100 50,50"/>
                    <polygon id="east-bg" class="ew-bg nonvul"
                             points="100,0 100,100 50,50"/>
                    <polygon id="west-bg" class="ew-bg nonvul"
                             points="0,0 0,100 50,50"/>

                    <!-- lines separating hands -->
                    <rect class="grid-border" width="100" height="100" x="0" y="0"/>
                    <line class="grid" x1="0" y1="0" x2="100" y2="100"/>
                    <line class="grid" x1="100" y1="0" x2="0" y2="100"/>

                    <!-- seat names (north, south, east, west) -->
                    <text class="seat-name" text-anchor="middle" seat="north"
                          x="50" y="3" transform="rotate(180 50,3)">
                          North<tspan id="north-name"/></text>
                    <text class="seat-name" text-anchor="middle" seat="east"
                          x="97" y="50" transform="rotate(-90 97,50)">
                          East<tspan id="east-name"/></text>
                    <text class="seat-name" text-anchor="middle" seat="south"
                          x="50" y="97" transform="rotate(0 50,97)">
                          South<tspan id="south-name"/></text>
                    <text class="seat-name" text-anchor="middle" seat="west"
                          x="3" y="50" transform="rotate(90 3,50)">
                          West<tspan id="west-name"/></text>

                    <!-- part score during bidding or final contract -->
                    <text id="north-contract" class="contract" text-anchor="middle"
                          x="50" y="15" transform="rotate(180 50,15)">North</text>
                    <text id="east-contract" class="contract" text-anchor="middle"
                          x="85" y="50" transform="rotate(-90 85,50)">East</text>
                    <text id="south-contract" class="contract" text-anchor="middle"
                          x="50" y="85" transform="rotate(0 50,85)">South</text>
                    <text id="west-contract" class="contract" text-anchor="middle"
                          x="15" y="50" transform="rotate(90 15,50)">West</text>

                    <!-- dealer icon -->
                    <use id="north-dealer" class="dealer dealing" href="#cards"
                         name="dealing" seat="north"
                         transform="translate(31,20) rotate(180 12,12) scale(0.025)"/>
                    <use id="east-dealer" class="dealer" href="#cards"
                         name="dealing" seat="east"
                         transform="translate(56,31) rotate(-90 12,12) scale(0.025)"/>
                    <use id="south-dealer" class="dealer" href="#cards"
                         name="dealing" seat="south"
                         transform="translate(45,56) scale(0.025)"/>
                    <use id="west-dealer" class="dealer" href="#cards"
                         name="dealing" seat="west"
                         transform="translate(20,45) rotate(90 12,12) scale(0.025)"/>
                </svg>
            </div>
        </div>  <!-- table-panel -->
        <div class="input-panel">
            <table class="ui-table">
                <thead>
                    <tr>
                        <th class="ui-section" colspan="3">Current Hand</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="align-right">Contract</td>
                        <td id="ui-contract" class="align-left ui-contract"/>
                    </tr>
                    <!-- Save in case natural language improves
                       <td rowspan="2">
                            <input type="button" id="speech-button"
                                   class="input-action" value="&#x1F399;"/>
                       </td>
                    -->
                    <tr>
                        <td class="align-right">Result</td>
                        <td class="align-left ui-contract">
                            <div id="ui-result" class="ui-select"></div>
                            <select id="result-tricks" class="ui-select"
                                    name="result-tricks">
                                <option value="none">Tricks</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="align-center" colspan="3">
                            <input type="button" id="input-stats"
                                   class="input-action" value="Stats"/>
                            <input type="button" id="input-clear"
                                   class="input-action" value="Clear"/>
                            <input type="button" id="input-undo"
                                   class="input-action" value="Undo"/>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>  <!-- input-panel -->
    </div>  <!-- ui-panel -->
    <div class="score-panel">
        <table id="scorepad" class="scorepad">
            <tbody>
            <tr>
                <td class="score-match-selector" colspan="2">
                    <label for="match" class="match-label">Match&nbsp;</label>
                    <select id="match" class="match" name="match">
                        <optgroup id="match-group" class="match-label" label="Show Match">
                            <option value="Current" selected>Current</option>
                            <option value="27">27</option>
                        </optgroup>
                    </select>
                </td>
            </tr>
            <tr class="score-header">
                <th class="align-center">North-South</th>
                <th class="align-center">East-West</th>
            </tr>
            <tr id="score-hands" class="score-hands">
                <td colspan="2">
                    <table id="score-hands-table" class="score-hands-table">
                        <tr id="above-the-line" class="above-line-row">
                            <td id="score-ns-above" class="above-line above-ns">
                                <table id="ns-above" class="score-above">
                                </table>
                            </td>
                            <td id="score-ew-above" class="above-line above-ew">
                                <table id="ew-above" class="score-above">
                                </table>
                            </td>
                        </tr>
                        <tr id="below-the-line" class="below-line-row">
                            <td id="score-ns-below" class="below-line below-ns">
                                <table id="ns-below" class="score-below">
                                </table>
                            </td>
                            <td id="score-ew-below" class="below-line below-ew">
                                <table id="ew-below" class="score-below">
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr class="match-row">
                <td class="score-match score-value">
                    <span id="score-ns-match"></span>
                </td>
                <td class="score-match score-value">
                    <span id="score-ew-match"></span>
                </td>
            </tr>
            <tr class="total-row">
                <td class="score-total score-value">
                    <span id="score-ns-total"></span>
                </td>
                <td class="score-total score-value">
                    <span id="score-ew-total"></span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>  <!-- score-panel -->
</div>  <!-- app-div -->
<dialog id="alert-dialog" class="dialog">
    <div id="alert-content" class="dialog-content">
        <p id="alert-text"></p>
        <div class="dialog-buttons">
            <input type="button" class="dialog-button"
                   id="alert-close" value="Okay" autofocus/>
        </div>
    </div>
</dialog>
<dialog id="confirm-dialog" class="dialog">
    <div id="confirm-content" class="dialog-content">
        <p id="confirm-text"></p>
        <div class="dialog-buttons">
            <input type="button" class="dialog-button"
                   id="confirm-no" value="No"/>
            <input type="button" class="dialog-button"
                   id="confirm-yes" value="Yes" autofocus/>
        </div>
    </div>
</dialog>
<dialog id="eom-dialog" class="dialog">
    <div id="eom-content" class="dialog-content">
        <h2>End of Match</h2>
        <p id="eom-text"></p>
        <div class="dialog-buttons">
            <input type="button" class="dialog-button"
                   id="eom-close" value="Okay" autofocus/>
        </div>
    </div>
</dialog>
<dialog id="edit-name-dialog" class="dialog">
    <div id="edit-name-content" class="dialog-content">
        <span class="edit-name-label">North</span>
        <input type="text" id="edit-name-input"
               class="edit-name-input" placeholder="Name" autofocus/>
        <div class="dialog-buttons">
            <input type="button" class="dialog-button"
                   id="edit-name-close" value="Okay"/>
        </div>
    </div>
</dialog>
<dialog id="stats-dialog" class="dialog">
    <div id="stats-content" class="dialog-content">
        <div id="stats-data" class="stats-data">
            <table class="stats-table">
                <thead>
                    <tr>
                        <th class="stats-header"></th>
                        <th class="stats-header">North-South</th>
                        <th class="stats-header">East-West</th>
                    </tr>
                </thead>
                <tbody id="stats-table-body"></tbody>
            </table>
            <p/>
            <table class="stats-table">
                <thead>
                    <tr>
                        <th class="stats-header"></th>
                        <th class="stats-header">North</th>
                        <th class="stats-header">South</th>
                        <th class="stats-header">East</th>
                        <th class="stats-header">West</th>
                    </tr>
                </thead>
                <tbody id="stats-seat-table-body"></tbody>
            </table>
        </div>
        <div class="dialog-buttons">
            <input type="button" class="dialog-button"
                   id="stats-close" value="Okay" autofocus/>
        </div>
    </div>
</dialog>
</body>
</html>
